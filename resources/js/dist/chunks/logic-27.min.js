(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{385:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{ref:"resetPasswordForm",staticClass:"w-100 clearfix",attrs:{method:"post"}},[s("div",{staticClass:"input-feedback-container",attrs:{"data-validate":"password"}},[s("div",{staticClass:"input-unit"},[s("popper",{ref:"passwordHint",attrs:{trigger:"focus",placement:"bottom"},scopedSlots:t._u([{key:"handle",fn:function(){return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordFirst,expression:"passwordFirst"}],attrs:{type:"password",name:"password",autocomplete:"new-password",id:t._uid+"password_first"},domProps:{value:t.passwordFirst},on:{input:function(e){e.target.composing||(t.passwordFirst=e.target.value)}}})]},proxy:!0},{key:"title",fn:function(){return[t._v("\n                    "+t._s(t.$translate("Frontend::Template.resetPwPasswordHintTitle"))+"\n                ")]},proxy:!0},{key:"content",fn:function(){return[s("ul",{staticClass:"pl-3"},[s("li",[t._v(t._s(t.$translate("Frontend::Template.resetPwPasswordHintLength")))]),t._v(" "),s("li",[t._v(t._s(t.$translate("Frontend::Template.resetPwPasswordHintDigit")))]),t._v(" "),s("li",[t._v(t._s(t.$translate("Frontend::Template.resetPwPasswordHintChar")))])])]},proxy:!0}])}),t._v(" "),s("label",{attrs:{for:t._uid+"password_first"}},[t._v(t._s(t.$translate("Frontend::Template.resetPwNewPassword"))+"*")])],1)]),t._v(" "),s("div",{staticClass:"input-feedback-container",attrs:{"data-validate":"ref"}},[s("div",{staticClass:"input-unit"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordSecond,expression:"passwordSecond"}],attrs:{type:"password",name:"password",autocomplete:"new-password",id:t._uid+"password_second","data-validate-ref":"#"+t._uid+"password_first"},domProps:{value:t.passwordSecond},on:{input:function(e){e.target.composing||(t.passwordSecond=e.target.value)}}}),t._v(" "),s("label",{attrs:{for:t._uid+"password_second"}},[t._v(t._s(t.$translate("Frontend::Template.resetPwRepeatPassword"))+"*")])])]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-appearance btn-large float-right",attrs:{disabled:t.isDisabled},on:{click:function(e){return e.preventDefault(),t.validatePassword(e)}}},[s("span",[t._v(t._s(t.$translate("Frontend::Template.resetPwSave")))]),t._v(" "),s("i",{staticClass:"fa fa-floppy-o",attrs:{"aria-hidden":"true"}})])])};a._withStripped=!0;s(36);var r=s(37),o=s(24),n=s(1),d=s(6),i=s(12),l={name:"reset-password-form",props:{contactId:{type:Number,required:!0},hash:{type:String,required:!0}},data:function(){return{passwordFirst:"",passwordSecond:"",isDisabled:!1}},methods:{validatePassword:function(){var t=this;r.default.validate(this.$refs.resetPasswordForm).done((function(){t.saveNewPassword()})).fail((function(e){r.default.markInvalidFields(e,"has-error");var s=Object(n.e)(e[0])?null:e[0].dataset.validate;"password"===s?i.default.error(t.$translate("Frontend::Template.resetPwInvalidPassword")):"ref"===s&&i.default.error(t.$translate("Frontend::Template.resetPwRepeatNewPassword"))}))},saveNewPassword:function(){var t=this;this.isDisabled=!0,d.default.post("/rest/io/customer/password",{password:this.passwordFirst,password2:this.passwordSecond,contactId:this.contactId,hash:this.hash}).done((function(){Object(o.c)(window.location.origin),i.default.success(t.$translate("Frontend::Template.resetPwChangePasswordSuccessful")).closeAfter(3e3)})).fail((function(){t.isDisabled=!1,i.default.error(t.$translate("Frontend::Template.resetPwChangePasswordFailed")).closeAfter(5e3)}))}}},p=s(5),c=Object(p.a)(l,a,[],!1,null,null,null);c.options.__file="resources/js/src/app/components/customer/ResetPasswordForm.vue";e.default=c.exports}}]);
//# sourceMappingURL=logic-27.min.js.map